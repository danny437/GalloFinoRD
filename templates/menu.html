<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GFRD MenÃº 2026</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');
*{margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif;}
body{background:#01030a; color:white; font-size:17px;}
.container{width:95%; max-width:900px; margin:40px auto;}
.header-modern{display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; flex-wrap:wrap; gap:15px;}
.header-modern h1{font-size:1.8rem; color:#00ffff; text-shadow:0 0 10px #00ffff;}
.subtitle{font-size:0.85rem; color:#bbb;}
.logo{width:80px; height:auto; filter:drop-shadow(0 0 6px #00ffff);}
.card{background:rgba(255,255,255,0.06); border-radius:20px; padding:25px; backdrop-filter:blur(10px); box-shadow:0 0 30px rgba(0,255,255,0.4);}
.menu-grid{display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;}
.menu-btn{display: block; width:100%; padding:16px; text-align:center; border-radius:10px; background:linear-gradient(135deg,#f6c84c,#ff7a18); color:#041428; font-weight:bold; text-decoration:none; transition:0.3s; font-size:17px;}
.menu-btn:hover{transform:translateY(-3px); box-shadow:0 6px 20px rgba(0,255,255,0.5);}
canvas{position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1;}
</style>
</head>
<body>
<canvas id="bg"></canvas>
<div class="container">
<div class="header-modern">
<div>
<h1>ğŸ“ Traba: {{ traba }}</h1>
<p class="subtitle">Sistema moderno â€¢ AÃ±o 2026</p>
</div>
<img src="/logo" alt="Logo GFRD" class="logo">
</div>
<div class="card">
<div class="menu-grid">
<a href="/formulario-gallo" class="menu-btn">ğŸ“ Registrar Gallo</a>
<a href="/cruce-inbreeding" class="menu-btn">ğŸ” Cruce Inbreeding</a>
<a href="/lista" class="menu-btn">ğŸ“‹ Mis Gallos</a>
<a href="/buscar" class="menu-btn">ğŸ” Buscar</a>
<a href="/exportar" class="menu-btn">ğŸ“¤ Exportar</a>
<a href="javascript:void(0);" class="menu-btn" onclick="crearBackup()">ğŸ’¾ Respaldo</a>
<a href="/cerrar-sesion" class="menu-btn" style="background:linear-gradient(135deg,#7f8c8d,#95a5a6);">ğŸšª Cerrar SesiÃ³n</a>
</div>
</div>
</div>
<div id="mensaje-backup" style="text-align:center; margin-top:15px; color:#27ae60; font-weight:bold;"></div>
<script>
const canvas = document.getElementById("bg");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let particles = [];
class Particle {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.size = Math.random() * 2 + 1;
    this.speedX = Math.random() - 0.5;
    this.speedY = Math.random() - 0.5;
  }
  update() {
    this.x += this.speedX;
    this.y += this.speedY;
  }
  draw() {
    ctx.fillStyle = "rgba(0,255,255,0.7)";
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fill();
  }
}
function init() { for(let i=0;i<100;i++) particles.push(new Particle()); }
function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{p.update();p.draw();});
  requestAnimationFrame(animate);
}
window.addEventListener("resize", ()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight; init();});
init(); animate();
function crearBackup() {
    fetch("/backup", { method: "POST" })
        .then(r => r.json())
        .then(d => {
            if (d.error) {
                document.getElementById("mensaje-backup").innerHTML = `<span style="color:#e74c3c;">âŒ ${d.error}</span>`;
            } else {
                document.getElementById("mensaje-backup").innerHTML = `<span style="color:#27ae60;">${d.mensaje}</span>`;
                window.location.href = "/download/" + d.archivo;
            }
        });
}
</script>
</body>
</html>
