<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GFRD Editar Gallo 2026</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<canvas id="bg"></canvas>
<div class="container">
<div class="header-modern">
<div>
<h1>üêì Traba: {{ traba }}</h1>
<p class="subtitle">Sistema moderno ‚Ä¢ A√±o 2026</p>
</div>
<img src="{{ url_for('static', filename='imgs/OIP.png') }}" alt="Logo GFRD" class="logo">
</div>
<form method="POST" action="{{ url_for('actualizar_gallo', id=gallo.id) }}" enctype="multipart/form-data" class="form-container">
<div class="form-scroll">
    <div class="input-group">
        <label>Placa de Traba:</label>
        <input type="text" name="placa_traba" value="{{ gallo.placa_traba }}" required>
    </div>
    <div class="input-group">
        <label>Placa Regional:</label>
        <input type="text" name="placa_regional" value="{{ gallo.placa_regional or '' }}">
    </div>
    <div class="input-group">
        <label>N¬∞ Pelea:</label>
        <input type="text" name="n_pelea" value="{{ gallo.n_pelea or '' }}">
    </div>
    <div class="input-group">
        <label>Nombre:</label>
        <input type="text" name="nombre" value="{{ gallo.nombre or '' }}">
    </div>
    <div class="input-group">
        <label>Raza:</label>
        <select name="raza" required>
            {% for r in RAZAS %}
            <option value="{{ r }}" {% if r == gallo.raza %}selected{% endif %}>{{ r }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="input-group">
        <label>Color:</label>
        <input type="text" name="color" value="{{ gallo.color }}" required>
    </div>
    <div class="input-group">
        <label>Apariencia:</label>
        <div style="margin:5px 0;">
            {% for a in apariencias %}
            <label><input type="radio" name="apariencia" value="{{ a }}" {% if a == gallo.apariencia %}checked{% endif %}> {{ a }}</label><br>
            {% endfor %}
        </div>
    </div>
    <div class="input-group">
        <label>Foto actual:</label>
        <div>
            {% if gallo.foto %}
            <img src="{{ url_for('uploaded_file', filename=gallo.foto) }}" width="100" style="border-radius:4px; margin-bottom:10px;">
            {% else %}
            ‚Äî
            {% endif %}
        </div>
    </div>
    <div class="input-group">
        <label>Nueva foto:</label>
        <input type="file" name="foto" accept="image/*">
    </div>
    <div class="input-group">
        <label>Madre:</label>
        <select name="madre_id">
            <option value="">-- Ninguna --</option>
            {% for g in todos_gallos %}
            <option value="{{ g.id }}" {% if g.id == madre_actual %}selected{% endif %}>{{ g.placa_traba }} ({{ g.raza }}) - {{ g.nombre or 'Sin nombre' }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="input-group">
        <label>Padre:</label>
        <select name="padre_id">
            <option value="">-- Ninguno --</option>
            {% for g in todos_gallos %}
            <option value="{{ g.id }}" {% if g.id == padre_actual %}selected{% endif %}>{{ g.placa_traba }} ({{ g.raza }}) - {{ g.nombre or 'Sin nombre' }}</option>
            {% endfor %}
        </select>
    </div>
</div>
<button type="submit">‚úÖ Actualizar</button>
<div class="nav-buttons">
    <a href="{{ url_for('lista_gallos') }}">‚ùå Cancelar</a>
    <a href="{{ url_for('menu_principal') }}">üè† Men√∫</a>
</div>
</form>
</div>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
